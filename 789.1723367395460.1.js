"use strict";(self["webpackChunkweb_admin"]=self["webpackChunkweb_admin"]||[]).push([[789],{59789:(e,n,t)=>{t.r(n),t.d(n,{default:()=>A});var u=t(35280),l=t(48677),r=(0,u.Lk)("div",{class:"leading-tight flex items-center py-2"},[(0,u.Lk)("img",{src:l,class:"h-12 mr-4"}),(0,u.Lk)("div",null,[(0,u.Lk)("h4",{class:"text-lg leading-none"},"出货单据打印系统"),(0,u.Lk)("span",{class:"text-xs opacity-45"},"Express Document Printing System")])],-1),a={class:"page-info"},o={class:"user-account"},i=(0,u.Lk)("i",{class:"ri-shut-down-line"},null,-1),s={class:"absolute bottom-0 w-full border-t"};function c(e,n,t,l,c,d){var f=(0,u.g2)("a-button"),p=(0,u.g2)("a-space"),h=(0,u.g2)("a-row"),m=(0,u.g2)("a-layout-header"),k=(0,u.g2)("sub-menu"),g=(0,u.g2)("router-link"),b=(0,u.g2)("a-menu-item"),w=(0,u.g2)("a-menu"),v=(0,u.g2)("a-layout-sider"),y=(0,u.g2)("router-view"),C=(0,u.g2)("a-layout-content"),_=(0,u.g2)("a-layout"),A=(0,u.g2)("a-input-password"),F=(0,u.g2)("a-form-item"),L=(0,u.g2)("a-form"),x=(0,u.g2)("a-modal");return(0,u.uX)(),(0,u.CE)(u.FK,null,[(0,u.bF)(_,null,{default:(0,u.k6)((function(){return[(0,u.bF)(m,{class:"border-b",style:{position:"fixed",zIndex:1,width:"100%",background:"#fff",padding:"0 16px",display:"flex",alignItems:"center"}},{default:(0,u.k6)((function(){return[r,(0,u.bF)(h,{justify:"space-between",class:"ml-auto"},{default:(0,u.k6)((function(){return[(0,u.Lk)("div",a,[(0,u.Lk)("i",{class:(0,u.C4)(e.$route.meta.icon)},null,2)]),(0,u.bF)(p,{size:"middle"},{default:(0,u.k6)((function(){return[(0,u.Lk)("span",o,"您好，"+(0,u.v_)(c.userName),1),(0,u.bF)(f,{shape:"circle",onClick:(0,u.D$)(d.onLogoutClick,["prevent"])},{default:(0,u.k6)((function(){return[i]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1}),(0,u.bF)(_,{style:(0,u.Tr)({marginLeft:c.menuCollapsed?"80px":c.siderWidth+"px"})},{default:(0,u.k6)((function(){return[(0,u.bF)(v,{collapsed:c.menuCollapsed,"onUpdate:collapsed":n[2]||(n[2]=function(e){return c.menuCollapsed=e}),trigger:null,width:c.siderWidth,theme:"light",collapsible:"",style:{overflowY:"auto",position:"fixed",left:0,top:"64px",bottom:0},class:"border-r"},{default:(0,u.k6)((function(){return[(0,u.bF)(w,{openKeys:c.openKeys,onOpenChange:n[0]||(n[0]=function(e){return c.openKeys=e}),defaultSelectedKeys:[e.$route.path],selectedKeys:[e.$route.path],mode:"inline",class:"py-2 !border-none"},{default:(0,u.k6)((function(){return[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(c.menulist,(function(e){return(0,u.uX)(),(0,u.CE)(u.FK,null,[e.children&&e.children.length>0?((0,u.uX)(),(0,u.Wv)(k,{key:e.path,menuInfo:e},null,8,["menuInfo"])):((0,u.uX)(),(0,u.Wv)(b,{key:e.path},{icon:(0,u.k6)((function(){return[(0,u.Lk)("span",null,[(0,u.Lk)("i",{class:(0,u.C4)(e.icon)},null,2)])]})),default:(0,u.k6)((function(){return[(0,u.bF)(g,{to:{path:e.path}},{default:(0,u.k6)((function(){return[(0,u.eW)((0,u.v_)(e.title),1)]})),_:2},1032,["to"])]})),_:2},1024))],64)})),256))]})),_:1},8,["openKeys","defaultSelectedKeys","selectedKeys"]),(0,u.Lk)("div",s,[(0,u.bF)(f,{class:"!rounded-none",type:"text",block:"",size:"large",onClick:n[1]||(n[1]=function(){return c.menuCollapsed=!c.menuCollapsed})},{default:(0,u.k6)((function(){return[(0,u.Lk)("i",{class:(0,u.C4)(c.menuCollapsed?"ri-menu-unfold-fill":"ri-menu-fill")},null,2)]})),_:1})])]})),_:1},8,["collapsed","width"]),(0,u.bF)(C,{style:{marginTop:"64px"}},{default:(0,u.k6)((function(){return[(0,u.bF)(y,{class:"page"})]})),_:1})]})),_:1},8,["style"])]})),_:1}),(0,u.bF)(x,{visible:c.showChangePwdModal,"onUpdate:visible":n[6]||(n[6]=function(e){return c.showChangePwdModal=e}),title:"修改密码",onOk:d.onChangePwdClick},{default:(0,u.k6)((function(){return[(0,u.bF)(L,{labelCol:{span:7},wrapperCol:{span:13}},{default:(0,u.k6)((function(){return[(0,u.bF)(F,{label:"原密码"},{default:(0,u.k6)((function(){return[(0,u.bF)(A,{placeholder:"请输入原密码",value:e.oldPwd,"onUpdate:value":n[3]||(n[3]=function(n){return e.oldPwd=n})},null,8,["value"])]})),_:1}),(0,u.bF)(F,{label:"新密码"},{default:(0,u.k6)((function(){return[(0,u.bF)(A,{placeholder:"请输入新密码",value:e.newPwd1,"onUpdate:value":n[4]||(n[4]=function(n){return e.newPwd1=n})},null,8,["value"])]})),_:1}),(0,u.bF)(F,{label:"密码确认"},{default:(0,u.k6)((function(){return[(0,u.bF)(A,{placeholder:"请再输入一遍新密码",value:e.newPwd2,"onUpdate:value":n[5]||(n[5]=function(n){return e.newPwd2=n})},null,8,["value"])]})),_:1})]})),_:1})]})),_:1},8,["visible","onOk"])],64)}var d=t(14048),f=t(30388),p=(t(51629),t(44114),t(62010),t(26099),t(42762),t(23500),t(83496)),h=t(76136),m=t(25818);function k(e,n,t,l,r,a){var o=(0,u.g2)("sub-menu"),i=(0,u.g2)("router-link"),s=(0,u.g2)("a-menu-item"),c=(0,u.g2)("a-sub-menu");return(0,u.uX)(),(0,u.Wv)(c,(0,u.v6)({key:t.menuInfo.id},e.$attrs),{icon:(0,u.k6)((function(){return[(0,u.Lk)("span",null,[(0,u.Lk)("i",{class:(0,u.C4)(t.menuInfo.icon)},null,2)])]})),title:(0,u.k6)((function(){return[(0,u.eW)((0,u.v_)(t.menuInfo.title),1)]})),default:(0,u.k6)((function(){return[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(t.menuInfo.children,(function(e){return(0,u.uX)(),(0,u.CE)(u.FK,null,[e.children&&e.children.length>0?((0,u.uX)(),(0,u.Wv)(o,{key:e.path,menuInfo:e},null,8,["menuInfo"])):((0,u.uX)(),(0,u.Wv)(s,{key:e.path},{default:(0,u.k6)((function(){return[(0,u.bF)(i,{to:{path:e.path}},{default:(0,u.k6)((function(){return[(0,u.Lk)("span",null,(0,u.v_)(e.title),1)]})),_:2},1032,["to"])]})),_:2},1024))],64)})),256))]})),_:1},16)}const g={name:"subMenu",props:{menuInfo:{type:Object,default:function(){return{}}}}};var b=t(71241);const w=(0,b.A)(g,[["render",k]]),v=w;var y=t(26443);const C={components:{"sub-menu":v},data:function(){return{siderWidth:256,menuCollapsed:!1,menulist:[],showChangePwdModal:!1,openKeys:[],userName:""}},created:function(){var e=this;return(0,f.A)((0,d.A)().mark((function n(){var t,u,l;return(0,d.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:t=p.A.userInfo.get(),u=t.name,l=void 0===u?"":u,e.userName=l,e.menulist=y.o,e.openKeys=e.getDefaultOpenKeys(e.menulist);case 4:case"end":return n.stop()}}),n)})))()},methods:{getDefaultOpenKeys:function(e){var n=[];return e.forEach((function(e){e.children&&e.children.length>0&&n.push(e.url)})),n},onChangePwdClick:function(){var e=this;return(0,f.A)((0,d.A)().mark((function n(){var t,u,l,r;return(0,d.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t=e.oldPwd,u=e.newPwd1,l=e.newPwd2,!h.A.isEmpty(t)){n.next=4;break}return p.A.showToast("请输入原密码"),n.abrupt("return");case 4:if(t=(t+"").trim(),!h.A.isEmpty(u)){n.next=8;break}return p.A.showToast("请输入新密码"),n.abrupt("return");case 8:if(u=(u+"").trim(),u==l){n.next=12;break}return p.A.showToast("两次密码输入不一致"),n.abrupt("return");case 12:return p.A.showLoading(),n.next=15,p.A.postAsync(m.tl.USER_PASSWORD_UPD,{oldpwd:t,newpwd:u});case 15:r=n.sent,p.A.hideLoading(),0==r.status&&(e.showChangePwdModal=!1,p.A.showToast(r.message),p.A.toLogin());case 18:case"end":return n.stop()}}),n)})))()},onLogoutClick:function(){this.$confirm({title:"提示",content:"确定要退出登录吗？",onOk:function(){var e=(0,f.A)((0,d.A)().mark((function e(){return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:p.A.showLoading(),p.A.hideLoading(),p.A.toLogin();case 3:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})}}},_=(0,b.A)(C,[["render",c]]),A=_},48677:(e,n,t)=>{e.exports=t.p+"img/ecs-logo.47042b78.png"}}]);